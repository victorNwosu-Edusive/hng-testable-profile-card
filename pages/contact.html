<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
     <link rel="stylesheet" href="../style.css" />
    <link
      rel="shortcut icon"
      href="../assets/images/hng1.png"
      type="image/x-icon"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css"
    />
    <title>Contact me  |  HNG stage 1</title>
</head>
<body>
    <nav class="navigation-bar">
      <ul class="navigation">
      <a data-testid="test-nav-profile" href="../index.html">Profile</a>
      <a data-testid="test-nav-about" href="./about.html">About me</a>
      <a data-testid="test-nav-contact" href="contact.html">Contact</a>
      </ul>
    </nav>
    <main class="contact-page" data-testid="test-contact-page">
    <h1>Get in touch.</h1>

    <form id="contact-form" novalidate>
      <div class="form-group">
        <label for="name">Full Name</label>
        <input 
          type="text" 
          id="name" 
          data-testid="test-contact-name"
          required
        />
      </div>

      <div class="form-group">
        <label for="email">Email</label>
        <input 
          type="email" 
          id="email" 
          data-testid="test-contact-email"
          required
        />
      </div>

      <div class="form-group">
        <label for="subject">Subject</label>
        <input 
          type="text" 
          id="subject" 
          data-testid="test-contact-subject"
          required
        />
      </div>

      <div class="form-group">
        <label for="message">Message</label>
        <textarea 
          id="message" 
          rows="5" 
          data-testid="test-contact-message"
          required
        ></textarea>
      </div>

      <p class="error-message" data-testid="test-contact-error" aria-live="assertive"></p>
      <p class="success-message" data-testid="test-contact-success" aria-live="polite"></p>

      <button type="submit" data-testid="test-contact-submit">Submit</button>
    </form>
  </main>

  <script>
    const form = document.getElementById("contact-form");
    const errorMsg = document.querySelector("[data-testid='test-contact-error']");
    const successMsg = document.querySelector("[data-testid='test-contact-success']");

    form.addEventListener("submit", (e) => {
      e.preventDefault();
      errorMsg.textContent = "";
      successMsg.textContent = "";

      const name = form.name.value.trim();
      const email = form.email.value.trim();
      const subject = form.subject.value.trim();
      const message = form.message.value.trim();

      if (!name || !email || !subject || !message) {
        errorMsg.textContent = "⚠ All fields are required.";
        return;
      }

      const emailPattern = /^[^ ]+@[^ ]+\.[a-z]{2,3}$/;
      if (!emailPattern.test(email)) {
        errorMsg.textContent = "⚠ Please enter a valid email address (name@example.com).";
        return;
      }

      if (message.length < 10) {
        errorMsg.textContent = "⚠ Message must be at least 10 characters.";
        return;
      }

      successMsg.textContent = "✔ Your message has been submitted successfully!";
      form.reset();
    });
  </script>
    
</body>
</html>